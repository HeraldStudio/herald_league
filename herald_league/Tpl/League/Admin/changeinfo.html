<!DOCTYPE html>
<html lang="en">
	<head>
		<title>修改社团信息</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- Bootstrap -->
		<link href="__Public__/Css/bootstrap/bootstrap.min.css" rel="stylesheet" media="screen">
		<link href="__Public__/Css/bootstrap/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
		<style type="text/css">
			form {
				margin: 0;
			}
			textarea {
				display: block;
			}
		</style>
		<script src="__Public__/Js/bootstrap/jquery.js"></script>
		<script src="__Public__/Js/bootstrap/bootstrap.min.js"></script>
		<script type="text/javascript">
		window.UEDITOR_HOME_URL = "__Public__/Ueditor/";    //UEDITOR_HOME_URL、config、all这三个顺序不能改变(绝对路径)
 		</script>
 		<load href="__Public__/Ueditor/ueditor.config.js" />
 		<load href="__Public__/Ueditor/ueditor.all.min.js" />

		<script type="text/javascript">
		
		function mycheck(){
			var groupname=document.getElementById("groupName");
			var grouimg=document.getElementById("groupImg");
			var groupintro=document.getElementById("groupIntro");
			var groupmum=document.getElementById("groupMum");
			var grouptel=document.getElementById("groupTel");
			var groupmail=document.getElementById("groupMail");
			var groupplace=document.getElementById("groupPlace");
			
			
			if(groupname.value==""){
				alert("怎么能不写社团名称呢？");
				return;
			}
			else if(grouimg.value==""){
				alert("您一定要上传一个社团头像哦");
			}
			else if(groupintro.value==""){
				alert("亲，要写社团介绍啦");
			}
			else if(groupmum.value==""){
				alert("您要介绍一下社团成员啊");
			}
			else if(grouptel.value==""){
				alert("留下联系电话吧");
			}
			else if(groupmail.value==""){
				alert("要写邮箱哦");
			}
			else{
				apos=groupmail.value.indexOf("@")
				dotpos=groupmail.value.lastIndexOf(".")
				if (apos<1||dotpos-apos<2) {
				alert("亲，邮箱格式不正确啊");
				}
			}
		
		}
		
		function cleanAll()
		{
			document.getElementById("groupName").value="";
			document.getElementById("unclass").value="";
			document.getElementById("groupTel").value="";
			document.getElementById("groupMail").value="";
			document.getElementById("groupPlace").value="";
			//document.getElementById("groupImg").value="";
			document.getElementById("groupIntro").innerText="a";
			//document.getElementById("groupIntro").value="";
			//document.getElementById("groupIntro").text=none;
			//document.getElementById("groupMum").innerHTML="";
		}
	
		</script>
	</head>

	<body>
		<div class="container-fluid">
			<div class="row-fluid">
				<div class="span1"></div>
						
				<div class="span10">
					<h3 style="border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:#D3D3D3;">修改社团信息</h3>

						<div class="row-fluid">
							<div class="span9">
								<form class="form-horizontal"  style="border-bottom-width:1px; border-bottom-style:dashed; border-bottom-color:#D3D3D3;" action="" method="post">
									<fieldset>
										<div class="control-group formSep" style="padding-bottom:10px; margin-bottom:10px; border-bottom-width:1px; border-bottom-style:dashed; border-bottom-color:#D3D3D3;">
											<label for="groupName" class="control-label">社团名称：</label>
											<div class="controls">
												<input type="text" id="groupName" class="input-xlarge" name="leaguename" value="{$leaguename}"/>
												&nbsp社团类别：
												<select class="span1"  id="unclass" style="width:150px;" name="leagueclass">
												<volist name="leagueclasslist" id="vcl">
												<option>{$vcl.class_name}</option>
											    </volist>
												</select>
											</div>
										</div>
										
										<div class="control-group formSep" style="padding-bottom:10px; margin-bottom:10px; border-bottom-width:1px; border-bottom-style:dashed; border-bottom-color:#D3D3D3;">
											<label for="fileinput" class="control-label">社团头像：</label>
											<div class="controls">
												<div data-fileupload="image" class="fileupload fileupload-new">
													<div style="width: 150px; height: 150px;" class="fileupload-new thumbnail">
														<img src="__Uploads__/LeagueAvatar/{$avatr}" alt="">
													</div>
												</div>
												<input type="file" id="groupImg">
											</div>
										</div>
										
										<div class="control-group formSep" style="padding-bottom:10px; margin-bottom:10px; border-bottom-width:1px; border-bottom-style:dashed; border-bottom-color:#D3D3D3;">
											<label for="groupIntro" class="control-label">社团介绍：</label>
											<div class="controls">
												<script type="text/plain" id="introduce" name="introduce"></script>
											</div>
										</div>
										
										<div class="control-group formSep" style="padding-bottom:10px; margin-bottom:10px; border-bottom-width:1px; border-bottom-style:dashed; border-bottom-color:#D3D3D3;">
											<label for="groupMum" class="control-label">社团成员：</label>
											<div class="controls">
												<script type="text/plain" id="member" name="member"></script>
												<script type="text/javascript">
												$(function(){
												    var introduce, member;
												    var options = {
												        initialFrameWidth:700,        //初化宽度
												        initialFrameHeight:300,        //初化高度
												        focus:false,                        //初始化时，是否让编辑器获得焦点true或false
												        maximumWords:1000,        //允许的最大字符数
												    };
												    introduce = new UE.ui.Editor(options);
												    member = new UE.ui.Editor(options);
												    introduce.render("introduce");
												    introduce.ready(function(){
												        introduce.setContent('{$leagueintro|htmlspecialchars_decode}');     //加载数据库Action.class.PHP传过来的值
												    });
												    member.render("member");
												    member.ready(function(){
												        member.setContent('{$member|htmlspecialchars_decode}');     //加载数据库Action.class.PHP传过来的值
												    });
												 });    
												 </script>
											</div>
										</div>
										<div class="control-group formSep" style="padding-bottom:10px; margin-bottom:10px; border-bottom-width:1px; border-bottom-style:dashed; border-bottom-color:#D3D3D3;">
											<label class="control-label">联系方式：</label>
											<div class="controls">
												电话：<input name="phone" type="text" id="groupTel" style="width:100px;" value="{$phone}">
												邮箱：<input name="email" type="text" id="groupMail" style="width:150px;" value="{$email}">
												<input name="leagueid" type="hidden" value="{$leagueid}">
											</div>
											<div class="controls" style="margin-top:10px;">
												地点：<input name="place" type="text" id="groupPlace" style="width:310px;" value="{$place}">
											</div>
										</div>
										
										<div class="control-group">
											<div class="controls">
												<button class="btn btn-success" type="submit" onclick="mycheck()">提交信息</button>
											</div>
										</div>
									</fieldset>
								</form>
								<button class="btn btn-info" onclick="cleanAll()" style="position:relative; left:300px;top:-51px;" >重置</button>
								<button class="btn btn-primary" href="index2.html" style="position:relative; left:350px;top:-51px;">添加社团相册</button>
							</div>
							<div class="span1"></div>
						</div>
					
				</div>
		
				<div class="span3"></div>
			</div>
		</div>

	</body>
</html>