<!DOCTYPE html>
<html lang="en">
  <head>
    <title>社团活动信息发布</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="__Public__/Css/bootstrap/bootstrap.min.css" rel="stylesheet" media="screen">
	<link href="__Public__/Css/bootstrap/datetimepicker.css" rel="stylesheet" media="screen">
	<style type="text/css">
		.formborder{
			padding-bottom:10px;
			margin-bottom:10px;
			border-bottoma-width:1px;
			border-bottom-style:dashed;
			border-bottom-color:#D3D3D3;
		}
		
	</style>
	<script src="__Public__/Js/bootstrap/jquery.js"></script>
    <script src="__Public__/Js/bootstrap/bootstrap.min.js"></script>
	<script type="text/javascript" src="__Public__/Js/bootstrap/bootstrap-datetimepicker.js" charset="UTF-8"></script>
	<script type="text/javascript" src="__Public__/Js/bootstrap/bootstrap-datetimepicker.fr.js" charset="UTF-8"></script>

	<script type="text/javascript">
	window.UEDITOR_HOME_URL = "__Public__/Ueditor/";
	</script>
	<load href="__Public__/Ueditor/ueditor.config.js" />
	<load href="__Public__/Ueditor/ueditor.all.min.js" />
	<script type="text/javascript">
		var ifvote=false;
		function myclick(){
			if(ifvote==false){
				$("#vote").slideToggle("slow");
				document.getElementById("votebut").innerHTML="收起投票";
				ifvote=true;
			}else{
				$("#vote").slideToggle("slow");
				document.getElementById("votebut").innerHTML="发起投票";
				ifvote=false;
			}
		}
		
		function mycheck(){
			var actname=document.getElementById("actName");
			var actplace=document.getElementById("actPlace");
			var acttel=document.getElementById("actTel");
			var actinfo=document.getElementById("activityinfo");

			if(actname.value==""){
				alert("要写活动名称哦~~");
			}
			else if(actplace.value==""){
				alert("不要忘了活动地点啊~~");
			}
			else if(acttel.value==""){
				alert("记得填写联系方式哟~~");
			}
			else if(actinfo.value==""){
				alert("活动详细信息很重要呀~~");
			}
			
		}

		var count=1;
		function addvote()
		{ 
			count=count+1;
			var newNode = document.createElement();
			newNode.innerHTML = "<div class='controls'>" + count + ".<input type='text' class='input-xlarge' style='margin-bottom:10px;'> &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp<input type='file' id='imgFile'>"; 
			var oldNode = document.getElementById("votes"); 
			oldNode.appendChild(newNode); 
		}
	</script>
  </head>
  
<body>
	<div class="row-fluid">
		<div class="span1"></div>
		<div class="span8">
			<h3 style="border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:#D3D3D3;">社团活动信息发布</h3>
			<form class="form-horizontal"  style="border-bottom-width:1px; border-bottom-style:dashed; border-bottom-color:#D3D3D3;" method="post" action="">
				<fieldset>
					<div class="control-group formSep formborder">
						<label for="actName" class="control-label">活动名称：</label>
						<div class="controls">
							<input type="text" id="actName" class="input-xlarge" name="activityname" value="">
						</div>
					</div>

					<div class="control-group formSep formborder" >
						<label for="actBegin" class="control-label">开始时间：</label>
						<div class="controls">
							<input size="16" type="text" value="{$time}" readonly class="form_datetime" name="starttime"/>
						</div>
					</div>

					<div class="control-group formSep formborder">
						<label for="actEnd" class="control-label">结束时间：</label>
						<div class="controls">
							<input size="16" type="text" value="{$time}" readonly class="form_datetime" name="endtime"/>
						</div>
					</div>

					<div class="control-group formSet">
						<label for="fileinput" class="control-label">活动宣传图片：</label>
						<div class="controls">
							<div data-fileupload="image" class="fileupload fileupload-new">
								<div style="width: 150px; height: 150px;" class="fileupload-new thumbnail">
									<img src="../../www.placehold.it/80x80/EFEFEF/AAAAAA" alt="">
								</div>
								
								<input type="file" id="imgFile">
								
							</div>
						</div>
					</div>
									
					<div class="control-group formSep formborder">
						<label for="actName" class="control-label">活动类型：</label>
						<div class="controls">
							<select id="activityclass" name="activityclass">
								<volist name="activityclasslist" id="vacl">
									<option>{$vacl.class}</option>
								</volist>
							</select>	
						</div>
					</div>
									
					<div class="control-group formSep formborder">
						<label for="actPlace" class="control-label">活动地点：</label>
						<div class="controls">
							<input type="text" id="actPlace" class="input-xlarge" name="activityplace" value="">
						</div>
					</div>
				
					<div class="control-group formSep formborder">
						<label for="actPlace" class="control-label">联系方式：</label>
						<div class="controls">
							<input type="text" id="actTel" class="input-xlarge" name="connectinfo" value="">
						</div>
					</div>
									
					<div class="control-group formSep formborder">
						<label for="actInfo" class="control-label">详细信息：</label>
						<div class="controls">
							<script type="text/plain" id="activityinfo" name="activityinfo"></script>
								<script type="text/javascript">
								$(function(){
									var activityinfo;
									var options = {
										initialFrameWidth:700,        //初化宽度
										initialFrameHeight:300,        //初化高度
										focus:false,                        //初始化时，是否让编辑器获得焦点true或false
										maximumWords:1000,        //允许的最大字符数
									};
									activityinfo = new UE.ui.Editor(options);
									activityinfo = new UE.ui.Editor(options);
									activityinfo.render("activityinfo");
									activityinfo.ready(function(){
										activityinfo.setContent('{$leagueintro|htmlspecialchars_decode}');     //加载数据库Action.class.PHP传过来的值
									});
								 });    
								 </script>
						</div>
					</div>
									
					<div class="control-group formSep formborder" id="vote" style="display:none;">
						<label for="actPlace" class="control-label">投票：</label>
						<div class="controls">
							主题：<input type="text" id="" class="input-xlarge" value="">
						</div>
						
						<div class="controls">
							<label class="radio inline">
								<input type="radio" name="radios" id="radio1" value="option1">单选
							</label>
							<label class="radio inline">
								<input type="radio" name="radios" id="radio2" value="option2">多选
							</label>
						</div>
						<div id="votes">
							<div class="controls" id="vote1" style="margin-bottom:10px;">
								1.<input type="text" id="" class="input-xlarge" value="">&nbsp附加图片<input type="file" id="imgFile">
							</div>
						</div>
					</div>
									
					<div class="control-group">
						<div class="controls">
							<button class="btn btn-success" type="submit" onclick="mycheck()">提交信息</button>	
						</div>	
					</div>
									
				</fieldset>
			</form>	
			
			<button class="btn btn-info" style="position:relative; top:-71px; left:300px;">取消</button>
			<button class="btn btn-info" id="votebut" onclick="myclick()" style="position:relative; top:-71px; left:400px;">发起投票</button>
			<button class="btn btn-info" style="position:relative; top:-140px; left:650px;" onclick="addvote()">增加选项</button>
					
		</div>
		<div class="span3"></div>
	</div>
	<script type="text/javascript">
		$(".form_datetime").datetimepicker({format: 'yyyy-mm-dd hh:ii'});
	</script>
</body>
</html>